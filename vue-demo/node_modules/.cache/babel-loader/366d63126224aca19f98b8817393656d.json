{"remainingRequest":"/Volumes/Data/Projects/pilot/vue-demo/node_modules/babel-loader/lib/index.js!/Volumes/Data/Projects/pilot/vue-demo/node_modules/eslint-loader/index.js??ref--13-0!/Volumes/Data/Projects/pilot/vue-demo/src/vendor/libs/mega-dropdown/mega-dropdown.js","dependencies":[{"path":"/Volumes/Data/Projects/pilot/vue-demo/src/vendor/libs/mega-dropdown/mega-dropdown.js","mtime":1548946280000},{"path":"/Volumes/Data/Projects/pilot/vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Data/Projects/pilot/vue-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Data/Projects/pilot/vue-demo/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _classCallCheck from \"/Volumes/Data/Projects/pilot/vue-demo/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Data/Projects/pilot/vue-demo/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nvar TIMEOUT = 150;\n\nvar MegaDropdown =\n/*#__PURE__*/\nfunction () {\n  function MegaDropdown(element) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, MegaDropdown);\n\n    this._onHover = options.trigger === 'hover' || element.getAttribute('data-trigger') === 'hover';\n    this._container = this._findParent(element, 'mega-dropdown');\n    if (!this._container) return;\n    this._menu = this._container.querySelector('.dropdown-toggle ~ .dropdown-menu');\n    if (!this._menu) return;\n    element.setAttribute('aria-expanded', 'false');\n    this._el = element;\n\n    this._bindEvents();\n  }\n\n  _createClass(MegaDropdown, [{\n    key: \"open\",\n    value: function open() {\n      if (this._timeout) {\n        clearTimeout(this._timeout);\n        this._timeout = null;\n      }\n\n      if (this._focusTimeout) {\n        clearTimeout(this._focusTimeout);\n        this._focusTimeout = null;\n      }\n\n      if (this._el.getAttribute('aria-expanded') !== 'true') {\n        this._triggerEvent('show');\n\n        this._container.classList.add('show');\n\n        this._menu.classList.add('show');\n\n        this._el.setAttribute('aria-expanded', 'true');\n\n        this._el.focus();\n\n        this._triggerEvent('shown');\n      }\n    }\n  }, {\n    key: \"close\",\n    value: function close(force) {\n      var _this = this;\n\n      if (this._timeout) {\n        clearTimeout(this._timeout);\n        this._timeout = null;\n      }\n\n      if (this._focusTimeout) {\n        clearTimeout(this._focusTimeout);\n        this._focusTimeout = null;\n      }\n\n      if (this._onHover && !force) {\n        this._timeout = setTimeout(function () {\n          if (_this._timeout) {\n            clearTimeout(_this._timeout);\n            _this._timeout = null;\n          }\n\n          _this._close();\n        }, TIMEOUT);\n      } else {\n        this._close();\n      }\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      this._el.getAttribute('aria-expanded') === 'true' ? this.close(true) : this.open();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindEvents();\n\n      this._el = null;\n\n      if (this._timeout) {\n        clearTimeout(this._timeout);\n        this._timeout = null;\n      }\n\n      if (this._focusTimeout) {\n        clearTimeout(this._focusTimeout);\n        this._focusTimeout = null;\n      }\n    }\n  }, {\n    key: \"_close\",\n    value: function _close() {\n      if (this._el.getAttribute('aria-expanded') === 'true') {\n        this._triggerEvent('hide');\n\n        this._container.classList.remove('show');\n\n        this._menu.classList.remove('show');\n\n        this._el.setAttribute('aria-expanded', 'false');\n\n        this._triggerEvent('hidden');\n      }\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this2 = this;\n\n      this._elClickEvnt = function (e) {\n        e.preventDefault();\n\n        _this2.toggle();\n      };\n\n      this._el.addEventListener('click', this._elClickEvnt);\n\n      this._bodyClickEvnt = function (e) {\n        if (!_this2._container.contains(e.target) && _this2._container.classList.contains('show')) {\n          _this2.close(true);\n        }\n      };\n\n      document.body.addEventListener('click', this._bodyClickEvnt, true);\n\n      this._menuClickEvnt = function (e) {\n        if (e.target.classList.contains('mega-link')) {\n          _this2.close(true);\n        }\n      };\n\n      this._menu.addEventListener('click', this._menuClickEvnt, true);\n\n      this._focusoutEvnt = function (e) {\n        if (_this2._focusTimeout) {\n          clearTimeout(_this2._focusTimeout);\n          _this2._focusTimeout = null;\n        }\n\n        if (_this2._el.getAttribute('aria-expanded') !== 'true') return;\n        _this2._focusTimeout = setTimeout(function () {\n          if (document.activeElement.tagName.toUpperCase() !== 'BODY' && _this2._findParent(document.activeElement, 'mega-dropdown') !== _this2._container) {\n            _this2.close(true);\n          }\n        }, 100);\n      };\n\n      this._container.addEventListener('focusout', this._focusoutEvnt, true);\n\n      if (this._onHover) {\n        this._enterEvnt = function (e) {\n          if (window.getComputedStyle(_this2._menu, null).getPropertyValue('position') === 'static') return;\n\n          _this2.open();\n        };\n\n        this._leaveEvnt = function (e) {\n          if (window.getComputedStyle(_this2._menu, null).getPropertyValue('position') === 'static') return;\n\n          _this2.close();\n        };\n\n        this._el.addEventListener('mouseenter', this._enterEvnt);\n\n        this._menu.addEventListener('mouseenter', this._enterEvnt);\n\n        this._el.addEventListener('mouseleave', this._leaveEvnt);\n\n        this._menu.addEventListener('mouseleave', this._leaveEvnt);\n      }\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      if (this._elClickEvnt) {\n        this._el.removeEventListener('click', this._elClickEvnt);\n\n        this._elClickEvnt = null;\n      }\n\n      if (this._bodyClickEvnt) {\n        document.body.removeEventListener('click', this._bodyClickEvnt, true);\n        this._bodyClickEvnt = null;\n      }\n\n      if (this._menuClickEvnt) {\n        this._menu.removeEventListener('click', this._menuClickEvnt, true);\n\n        this._menuClickEvnt = null;\n      }\n\n      if (this._focusoutEvnt) {\n        this._container.removeEventListener('focusout', this._focusoutEvnt, true);\n\n        this._focusoutEvnt = null;\n      }\n\n      if (this._enterEvnt) {\n        this._el.removeEventListener('mouseenter', this._enterEvnt);\n\n        this._menu.removeEventListener('mouseenter', this._enterEvnt);\n\n        this._enterEvnt = null;\n      }\n\n      if (this._leaveEvnt) {\n        this._el.removeEventListener('mouseleave', this._leaveEvnt);\n\n        this._menu.removeEventListener('mouseleave', this._leaveEvnt);\n\n        this._leaveEvnt = null;\n      }\n    }\n  }, {\n    key: \"_findParent\",\n    value: function _findParent(el, cls) {\n      if (el.tagName.toUpperCase() === 'BODY') return null;\n      el = el.parentNode;\n\n      while (el.tagName.toUpperCase() !== 'BODY' && !el.classList.contains(cls)) {\n        el = el.parentNode;\n      }\n\n      return el.tagName.toUpperCase() !== 'BODY' ? el : null;\n    }\n  }, {\n    key: \"_triggerEvent\",\n    value: function _triggerEvent(event) {\n      if (document.createEvent) {\n        var customEvent;\n\n        if (typeof Event === 'function') {\n          customEvent = new Event(event);\n        } else {\n          customEvent = document.createEvent('Event');\n          customEvent.initEvent(event, false, true);\n        }\n\n        this._container.dispatchEvent(customEvent);\n      } else {\n        this._container.fireEvent('on' + event, document.createEventObject());\n      }\n    }\n  }]);\n\n  return MegaDropdown;\n}();\n\nexport { MegaDropdown };",{"version":3,"sources":["/Volumes/Data/Projects/pilot/vue-demo/src/vendor/libs/mega-dropdown/mega-dropdown.js"],"names":["TIMEOUT","MegaDropdown","element","options","_onHover","trigger","getAttribute","_container","_findParent","_menu","querySelector","setAttribute","_el","_bindEvents","_timeout","clearTimeout","_focusTimeout","_triggerEvent","classList","add","focus","force","setTimeout","_close","close","open","_unbindEvents","remove","_elClickEvnt","e","preventDefault","toggle","addEventListener","_bodyClickEvnt","contains","target","document","body","_menuClickEvnt","_focusoutEvnt","activeElement","tagName","toUpperCase","_enterEvnt","window","getComputedStyle","getPropertyValue","_leaveEvnt","removeEventListener","el","cls","parentNode","event","createEvent","customEvent","Event","initEvent","dispatchEvent","fireEvent","createEventObject"],"mappings":"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","sourcesContent":["const TIMEOUT = 150\n\nclass MegaDropdown {\n  constructor(element, options = {}) {\n    this._onHover = options.trigger === 'hover' || element.getAttribute('data-trigger') === 'hover'\n\n    this._container = this._findParent(element, 'mega-dropdown')\n    if (!this._container) return\n\n    this._menu = this._container.querySelector('.dropdown-toggle ~ .dropdown-menu')\n    if (!this._menu) return\n\n    element.setAttribute('aria-expanded', 'false')\n\n    this._el = element\n    this._bindEvents()\n  }\n\n  open() {\n    if (this._timeout) {\n      clearTimeout(this._timeout)\n      this._timeout = null\n    }\n    if (this._focusTimeout) {\n      clearTimeout(this._focusTimeout)\n      this._focusTimeout = null\n    }\n\n    if (this._el.getAttribute('aria-expanded') !== 'true') {\n      this._triggerEvent('show')\n      this._container.classList.add('show')\n      this._menu.classList.add('show')\n      this._el.setAttribute('aria-expanded', 'true')\n      this._el.focus()\n      this._triggerEvent('shown')\n    }\n  }\n\n  close(force) {\n    if (this._timeout) {\n      clearTimeout(this._timeout)\n      this._timeout = null\n    }\n    if (this._focusTimeout) {\n      clearTimeout(this._focusTimeout)\n      this._focusTimeout = null\n    }\n\n    if (this._onHover && !force) {\n      this._timeout = setTimeout(() => {\n        if (this._timeout) {\n          clearTimeout(this._timeout)\n          this._timeout = null\n        }\n        this._close()\n      }, TIMEOUT)\n\n    } else {\n      this._close()\n    }\n  }\n\n  toggle() {\n    this._el.getAttribute('aria-expanded') === 'true' ?\n      this.close(true) :\n      this.open()\n  }\n\n  destroy() {\n    this._unbindEvents()\n    this._el = null\n\n    if (this._timeout) {\n      clearTimeout(this._timeout)\n      this._timeout = null\n    }\n\n    if (this._focusTimeout) {\n      clearTimeout(this._focusTimeout)\n      this._focusTimeout = null\n    }\n  }\n\n  _close() {\n    if (this._el.getAttribute('aria-expanded') === 'true') {\n      this._triggerEvent('hide')\n      this._container.classList.remove('show')\n      this._menu.classList.remove('show')\n      this._el.setAttribute('aria-expanded', 'false')\n      this._triggerEvent('hidden')\n    }\n  }\n\n  _bindEvents() {\n    this._elClickEvnt = (e) => {\n      e.preventDefault()\n      this.toggle()\n    }\n    this._el.addEventListener('click', this._elClickEvnt)\n\n    this._bodyClickEvnt = (e) => {\n      if (!this._container.contains(e.target) && this._container.classList.contains('show')) {\n        this.close(true)\n      }\n    }\n    document.body.addEventListener('click', this._bodyClickEvnt, true)\n\n    this._menuClickEvnt = (e) => {\n      if (e.target.classList.contains('mega-link')) {\n        this.close(true)\n      }\n    }\n    this._menu.addEventListener('click', this._menuClickEvnt, true)\n\n    this._focusoutEvnt = (e) => {\n      if (this._focusTimeout) {\n        clearTimeout(this._focusTimeout)\n        this._focusTimeout = null\n      }\n\n      if (this._el.getAttribute('aria-expanded') !== 'true') return\n\n      this._focusTimeout = setTimeout(() => {\n        if (\n          document.activeElement.tagName.toUpperCase() !== 'BODY' &&\n          this._findParent(document.activeElement, 'mega-dropdown') !== this._container\n        ) {\n          this.close(true)\n        }\n      }, 100)\n    }\n    this._container.addEventListener('focusout', this._focusoutEvnt, true)\n\n    if (this._onHover) {\n      this._enterEvnt = (e) => {\n        if (window.getComputedStyle(this._menu, null).getPropertyValue('position') === 'static') return\n        this.open()\n      }\n      this._leaveEvnt = (e) => {\n        if (window.getComputedStyle(this._menu, null).getPropertyValue('position') === 'static') return\n        this.close()\n      }\n\n      this._el.addEventListener('mouseenter', this._enterEvnt)\n      this._menu.addEventListener('mouseenter', this._enterEvnt)\n      this._el.addEventListener('mouseleave', this._leaveEvnt)\n      this._menu.addEventListener('mouseleave', this._leaveEvnt)\n    }\n  }\n\n  _unbindEvents() {\n    if (this._elClickEvnt) {\n      this._el.removeEventListener('click', this._elClickEvnt)\n      this._elClickEvnt = null\n    }\n    if (this._bodyClickEvnt) {\n      document.body.removeEventListener('click', this._bodyClickEvnt, true)\n      this._bodyClickEvnt = null\n    }\n    if (this._menuClickEvnt) {\n      this._menu.removeEventListener('click', this._menuClickEvnt, true)\n      this._menuClickEvnt = null\n    }\n    if (this._focusoutEvnt) {\n      this._container.removeEventListener('focusout', this._focusoutEvnt, true)\n      this._focusoutEvnt = null\n    }\n    if (this._enterEvnt) {\n      this._el.removeEventListener('mouseenter', this._enterEvnt)\n      this._menu.removeEventListener('mouseenter', this._enterEvnt)\n      this._enterEvnt = null\n    }\n    if (this._leaveEvnt) {\n      this._el.removeEventListener('mouseleave', this._leaveEvnt)\n      this._menu.removeEventListener('mouseleave', this._leaveEvnt)\n      this._leaveEvnt = null\n    }\n  }\n\n  _findParent(el, cls) {\n    if (el.tagName.toUpperCase() === 'BODY') return null\n    el = el.parentNode\n    while (el.tagName.toUpperCase() !== 'BODY' && !el.classList.contains(cls)) {\n      el = el.parentNode\n    }\n    return el.tagName.toUpperCase() !== 'BODY' ? el : null\n  }\n\n  _triggerEvent(event) {\n    if (document.createEvent) {\n      let customEvent\n\n      if (typeof(Event) === 'function') {\n        customEvent = new Event(event)\n      } else {\n        customEvent = document.createEvent('Event')\n        customEvent.initEvent(event, false, true)\n      }\n\n      this._container.dispatchEvent(customEvent)\n    } else {\n      this._container.fireEvent('on' + event, document.createEventObject())\n    }\n  }\n}\n\nexport { MegaDropdown }\n"]}]}